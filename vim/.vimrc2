"  ____ ____ ____ ____ _________ ____ ____ ____ ____ ____
" ||I |||G |||G |||Y |||       |||B |||A |||S |||I |||C ||
" ||__|||__|||__|||__|||_______|||__|||__|||__|||__|||__||
" |/__\|/__\|/__\|/__\|/_______\|/__\|/__\|/__\|/__\|/__\|
"  ____ ____ ____ ____ ____
" ||V |||I |||M |||R |||C ||
" ||__|||__|||__|||__|||__||
" |/__\|/__\|/__\|/__\|/__\|
"
call plug#begin('~/.vim/plugged')
  Plug 'mattn/emmet-vim'
  Plug 'preservim/nerdtree'
  Plug 'vim-airline/vim-airline'
  Plug 'tpope/vim-surround'
  Plug 'Yggdroot/indentLine'
  Plug 'tomtom/tcomment_vim'
  Plug 'christoomey/vim-tmux-navigator'
  Plug 'tpope/vim-repeat'
  Plug 'junegunn/fzf.vim'
  Plug 'tpope/vim-fugitive'
  Plug 'lifepillar/vim-solarized8'
  Plug 'sheerun/vim-polyglot'
  Plug 'ludovicchabant/vim-gutentags'
  
  Plug 'neoclide/coc.nvim', {'branch': 'release'}
call plug#end()

let mapleader = "\<space>"

filetype plugin indent on
syntax enable

set termguicolors
set background=dark
colorscheme solarized8_high


" basic
set clipboard=unnamed
set nomodeline
set relativenumber
set number
set tabstop=2
set shiftwidth=2
set expandtab
set encoding=UTF-8
set ignorecase
set smartcase
set lazyredraw
set confirm
set nobackup
set nowritebackup

" Settings for coc.nvim https://github.com/neoclide/coc.nvim
" Need to install some of these coc extensions: https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions
" !!! IMPORTANT !!!
" For ruby: gem install solargraph + :CocInstall coc-solargraph
" For JS/TS: :CocInstall coc-tsserver
" :CocConfig to see configs
" :CocList extensions to see what is installed (more on extensions page)
" More settings:

set updatetime=750 " updatetime https://www.reddit.com/r/vim/comments/3ql651/what_do_you_set_your_updatetime_to/
set shortmess+=c " https://vim.fandom.com/wiki/Avoiding_the_%22Hit_ENTER_to_continue%22_prompts
set signcolumn=yes

" maps tab. Run :verbose imap <tab> to check whether tab is used or not
inoremap <silent><expr> <TAB>
      \ pumvisible() ? "\<C-n>" :
      \ <SID>check_back_space() ? "\<TAB>" :
      \ coc#refresh()
inoremap <expr><S-TAB> pumvisible() ? "\<C-p>" : "\<C-h>"

function! s:check_back_space() abort
  let col = col('.') - 1
  return !col || getline('.')[col - 1]  =~# '\s'
endfunction



set hidden

if !has('nvim')
  nnoremap <Leader>vs :source $MYVIMRC<CR>
  nnoremap <Leader>ve :vsplit $MYVIMRC<CR>
elseif has('nvim')
  nnoremap <Leader>vs :source ~/.vimrc<CR>
  nnoremap <Leader>ve :vsplit ~/.vimrc<CR>
endif



" FZF (searches)
nnoremap <Leader>pp :Files<CR>
nnoremap <Leader>ff :Rg<CR>

" buffers
" nnoremap <Leader>bb :ls<CR>:b<Space> " Replaced with ripgrep's Buffers
" command
nnoremap <Leader>bs :ls<CR>:sbuffer<Space>
nnoremap <Leader>bv :ls<CR>:vertical sbuffer<Space>
nnoremap <Leader>bp :let @+=expand("%:p")<CR>

" resize
nnoremap <C-w><Right> :vertical resize +10<CR>
nnoremap <C-w><Left> :vertical resize -10<CR>
nnoremap <C-w><Down> :resize +10<CR>
nnoremap <C-w><Up> :resize -10<CR>

" nohighlight
nnoremap <esc><esc> :noh<return><esc>

" fzf + rg
set rtp+=/usr/local/opt/fzf
command! -bang -nargs=* Rg call fzf#vim#grep("rg --column --line-number --no-heading --color=always --smart-case ".shellescape(<q-args>), 1, {'options': '--delimiter : --nth 4..'}, <bang>0)

nnoremap <Leader>bb :Buffers<CR>
nnoremap <Leader>gc :Commits<CR>
nnoremap <Leader>gs :GFiles?<CR>


" NERDTree
let NERDTreeNaturalSort = 1
nnoremap <Leader>nf :NERDTreeFind<CR>
nnoremap <Leader>nt :NERDTreeToggle<CR>

" Gutentags
" https://www.reddit.com/r/vim/comments/d77t6j/guide_how_to_setup_ctags_with_gutentags_properly/
let g:gutentags_add_default_project_roots = 0
let g:gutentags_project_root = ['.git']
" Make it faster by ignoring these files
let g:gutentags_ctags_exclude = [
      \ '*.git', '*.svg', '*.hg',
      \ '*/tests/*',
      \ 'build',
      \ 'dist',
      \ '*sites/*/files/*',
      \ 'bin',
      \ 'node_modules',
      \ 'bower_components',
      \ 'cache',
      \ 'compiled',
      \ 'docs',
      \ 'example',
      \ 'bundle',
      \ 'vendor',
      \ '*.md',
      \ '*-lock.json',
      \ '*.lock',
      \ '*bundle*.js',
      \ '*build*.js',
      \ '.*rc*',
      \ '*.json',
      \ '*.min.*',
      \ '*.map',
      \ '*.bak',
      \ '*.zip',
      \ '*.pyc',
      \ '*.class',
      \ '*.sln',
      \ '*.Master',
      \ '*.csproj',
      \ '*.tmp',
      \ '*.csproj.user',
      \ '*.cache',
      \ '*.pdb',
      \ 'tags*',
      \ 'cscope.*',
      \ '*.css',
      \ '*.less',
      \ '*.scss',
      \ '*.exe', '*.dll',
      \ '*.mp3', '*.ogg', '*.flac',
      \ '*.swp', '*.swo',
      \ '*.bmp', '*.gif', '*.ico', '*.jpg', '*.png',
      \ '*.rar', '*.zip', '*.tar', '*.tar.gz', '*.tar.xz', '*.tar.bz2',
      \ '*.pdf', '*.doc', '*.docx', '*.ppt', '*.pptx',
      \ ]


